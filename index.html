<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Phonics Game üéµ</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@700&display=swap" rel="stylesheet">
<style>
  :root{ --bg1:#667eea; --bg2:#764ba2; --card:#fff; --ink:#111827; --shadow:0 12px 28px rgba(0,0,0,.18) }
  *{ box-sizing:border-box }
  body{
    margin:0; min-height:100vh; padding:20px; text-align:center; color:#fff;
    background:linear-gradient(135deg,var(--bg1),var(--bg2)); font-family:'Nunito',system-ui,Segoe UI,Roboto,Helvetica,Arial;
  }
  h1{ margin:0 0 8px; text-shadow:0 6px 16px rgba(0,0,0,.25) }
  .sub{ margin:0 0 14px; opacity:.95 }
  .panel{ background:var(--card); color:var(--ink); border-radius:22px; padding:20px; max-width:980px; margin:14px auto; box-shadow:var(--shadow) }
  .grid{ display:grid; gap:12px; grid-template-columns:repeat(auto-fit,minmax(72px,1fr)); max-width:720px; margin:10px auto 16px }
  .btn{
    border:none; border-radius:16px; color:#fff; font-weight:900; cursor:pointer; aspect-ratio:1/1; font-size:22px;
    box-shadow:var(--shadow); transition:transform .08s ease, filter .2s ease;
    background:linear-gradient(135deg,#ff6b6b,#ee5a24);
  }
  .btn:nth-child(5n+2){ background:linear-gradient(135deg,#4ecdc4,#44a08d) }
  .btn:nth-child(5n+3){ background:linear-gradient(135deg,#a78bfa,#60a5fa) }
  .btn:nth-child(5n+4){ background:linear-gradient(135deg,#f59e0b,#ef4444) }
  .btn:nth-child(5n+5){ background:linear-gradient(135deg,#06b6d4,#10b981) }
  .btn:active{ transform:translateY(1px) scale(.98); filter:brightness(.95) }
  .controls{ display:flex; flex-wrap:wrap; gap:10px; justify-content:center; margin:8px 0 6px }
  .ctl{ background:#111827; color:#fff; border:none; border-radius:12px; padding:10px 14px; font-weight:900; cursor:pointer; box-shadow:0 6px 16px rgba(0,0,0,.18) }
  .status{ margin:10px auto 2px; font-weight:900 }
  .np-wrap{ max-width:760px; margin:10px auto 0; text-align:left }
  .np-title{ margin:0 0 8px; font-weight:900 }
  .np-list{ list-style:none; padding:0; margin:0; display:flex; flex-wrap:wrap; gap:8px }
  .chip{ background:#eef2ff; color:#3730a3; border-radius:999px; padding:6px 10px; font-weight:900; display:flex; gap:6px; align-items:center; box-shadow:0 2px 8px rgba(0,0,0,.08) }
  .chip small{ color:#6b7280; font-weight:800 }
  .foot{ opacity:.85; font-size:12px; margin-top:8px; text-align:center }
</style>
</head>
<body>
  <h1>Phonics Game üéµ</h1>
  <p class="sub">Tap letters to play overlapping sounds ‚Ä¢ Use A‚ÜíZ to hear them in order</p>

  <div class="panel">
    <div id="grid" class="grid"></div>

    <div class="controls">
      <button id="stopAll" class="ctl">‚èπ Stop All</button>
      <button id="playAZ" class="ctl">üîÅ Play A ‚Üí Z</button>
    </div>

    <div id="status" class="status">Ready ‚úÖ</div>

    <div class="np-wrap">
      <p class="np-title">Now Playing:</p>
      <ul id="np" class="np-list"></ul>
      <div class="foot">Make sure each Google Drive file is shared as ‚ÄúAnyone with the link‚Äù.</div>
    </div>
  </div>

<script>
  // Your Google Drive direct links (uc?export=download&id=...)
  const DRIVE = {
    A:"https://drive.google.com/uc?export=download&id=1Qe1aCr14oUrDU-6EMcxzeAyMU8NMXfae",
    B:"https://drive.google.com/uc?export=download&id=10IJYuYVMFQJGHycrLFCX6zG4yz41qmWJ",
    C:"https://drive.google.com/uc?export=download&id=15R8QN67z2I2fQajmObMkBWkobcpczK2M",
    D:"https://drive.google.com/uc?export=download&id=1jUcdWAYesbmdOkfs-0sSsAJ9WEjBM3NI",
    E:"https://drive.google.com/uc?export=download&id=12YSf9qsSJru0tAtsGBeYiYt2gQ0Dztgr",
    F:"https://drive.google.com/uc?export=download&id=1oqmBDnCIeXiZvfJYnSgg3kZP9Iw6qyFM",
    G:"https://drive.google.com/uc?export=download&id=1hnhna5SXk7qCMP4Z_eV1I5b5fLLW4TXv",
    H:"https://drive.google.com/uc?export=download&id=1OY8rgUAilYGOD0yjZ9mD16TzoelEsPrC",
    I:"https://drive.google.com/uc?export=download&id=1vXiQpBw4Q-kPp0uvtydnC7KS6fQvew4D",
    J:"https://drive.google.com/uc?export=download&id=194ZXxUJISwq5vkB94SZ_gJ_annsgVxy3",
    K:"https://drive.google.com/uc?export=download&id=12z_yfJUmhkd5LN1poMN2dNgXO1yyCSEA",
    L:"https://drive.google.com/uc?export=download&id=1HHPYFY4p-Z__6SZKEKgSOCBug4gsIGC1",
    M:"https://drive.google.com/uc?export=download&id=1zuOsAkuCo4bRV9LGl-ElNNjA2y5bTJa7",
    N:"https://drive.google.com/uc?export=download&id=1PiG51Z1neVqxVGvWxotHwhUd3-Ljb5Jy",
    O:"https://drive.google.com/uc?export=download&id=11ymp4cEflp3FIzJN3XYdalDdv8lqJLkX",
    P:"https://drive.google.com/uc?export=download&id=1YiqPEjT5C4gY8M7B6w3ykf8r4GdQQeeH",
    Q:"https://drive.google.com/uc?export=download&id=1ZOGnULcvvf8aNTWeZdjCB93xmcFnZVPb",
    R:"https://drive.google.com/uc?export=download&id=1QleiMuwxKQnlF4vfciQFxpLwEq7oV4zO",
    S:"https://drive.google.com/uc?export=download&id=1XBvC4nse_amvfLiLBReiEpDHcAfJ7Z1T",
    T:"https://drive.google.com/uc?export=download&id=1lPK7U4XqhbCY2eV9eNnHKmWyWMGljm3k",
    U:"https://drive.google.com/uc?export=download&id=13_Z4QA5fP6KzU0myieJD1ZG2IMU_aU6i",
    V:"https://drive.google.com/uc?export=download&id=1EKd7dITWTuEwIlVOQ_dq1Fy3BIfVJ6zA",
    W:"https://drive.google.com/uc?export=download&id=1Bh8Wx6tXfbwA1_KW4tHaMKd3Vmc2MQ3y",
    X:"https://drive.google.com/uc?export=download&id=1NqCJc7LGjdnGMDPnkmHY3qZx-PphRuxw",
    Y:"https://drive.google.com/uc?export=download&id=1GKyvE5x-aR_mlwXLBwDGEpGowwjR_Nnd",
    Z:"https://drive.google.com/uc?export=download&id=1K4J-Lu0zWHjk6ciMVxw_JuPiOrIuXXmZ"
  };

  const grid   = document.getElementById('grid');
  const stopBtn= document.getElementById('stopAll');
  const playAZ = document.getElementById('playAZ');
  const status = document.getElementById('status');
  const np     = document.getElementById('np');

  // Track all live audios so Stop All works
  const active = new Set();
  // Map audio -> chip element (for Now Playing)
  const chips  = new Map();

  // Build letter buttons
  "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").forEach(L => {
    const b = document.createElement('button');
    b.className = 'btn'; b.textContent = L;
    b.addEventListener('click', () => playOverlap(L));
    grid.appendChild(b);
  });

  // Create and start an overlapping sound for a letter
  function playOverlap(letter){
    const base = DRIVE[letter];
    if (!base) { status.textContent = `No link for ${letter}`; return; }
    // cache-bust so Drive/CDN doesn‚Äôt return a stale response
    const src = base + (base.includes('?') ? '&' : '?') + 'v=' + Date.now();

    const a = new Audio(src);
    a.preload = 'none';
    a.crossOrigin = 'anonymous';

    // Track for Stop All + Now Playing
    active.add(a);
    const li = document.createElement('li');
    li.className = 'chip';
    li.innerHTML = `<strong>${letter}</strong> <small>${new Date().toLocaleTimeString()}</small>`;
    np.prepend(li);
    chips.set(a, li);

    a.onended = () => { active.delete(a); const c=chips.get(a); if(c){c.remove(); chips.delete(a);} };
    a.onpause = () => { if (a.currentTime === 0){ active.delete(a); const c=chips.get(a); if(c){c.remove(); chips.delete(a);} } };

    a.play()
      .then(()=>{ status.textContent = `üîä Playing ${letter}`; })
      .catch(()=>{ status.textContent = `‚ùó Could not play ${letter}. Check Drive sharing.`; const c=chips.get(a); if(c){c.remove(); chips.delete(a);} active.delete(a); });
  }

  // Stop All
  stopBtn.addEventListener('click', () => {
    for (const a of Array.from(active)) {
      try { a.pause(); a.currentTime = 0; } catch(e){}
      try { a.removeAttribute('src'); a.load(); } catch(e){}
      const c = chips.get(a); if (c) { c.remove(); chips.delete(a); }
      active.delete(a);
    }
    status.textContent = "‚èπ All stopped";
  });

  // Play A ‚Üí Z sequentially (demo)
  playAZ.addEventListener('click', async () => {
    status.textContent = "üîÅ Playing A ‚Üí Z‚Ä¶";
    for (const L of "ABCDEFGHIJKLMNOPQRSTUVWXYZ") {
      const base = DRIVE[L]; if (!base) continue;
      const src = base + (base.includes('?') ? '&' : '?') + 'v=' + Date.now();
      const a = new Audio(src);
      active.add(a);
      const li = document.createElement('li');
      li.className = 'chip'; li.innerHTML = `<strong>${L}</strong> <small>${new Date().toLocaleTimeString()}</small>`;
      np.prepend(li); chips.set(a, li);
      a.onended = () => { active.delete(a); const c=chips.get(a); if(c){c.remove(); chips.delete(a);} };
      try { await a.play(); } catch {}
      await new Promise(r => setTimeout(r, 140)); // tiny gap so each letter is audible
    }
    status.textContent = "‚úÖ Done A ‚Üí Z";
  });
</script>
</body>
</html>
